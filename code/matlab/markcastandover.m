function output=markcastandover(I,J)
[h,w,~]=size(I);
cast11=ones(h,w);
cast12=ones(h,w);
cast13=ones(h,w);
cast21=ones(h,w);
cast22=ones(h,w);
cast23=ones(h,w);

cast1=zeros(size(I));
cast2=zeros(size(I));
P=ones([h,w]);


cast11(I(:,:,1)>I(:,:,2))=cast11(I(:,:,1)>I(:,:,2))+1;
cast12(I(:,:,2)>I(:,:,1))=cast12(I(:,:,2)>I(:,:,1))+1;
cast11(I(:,:,1)>I(:,:,3))=cast11(I(:,:,1)>I(:,:,3))+1;
cast13(I(:,:,3)>I(:,:,1))=cast13(I(:,:,3)>I(:,:,1))+1;
cast13(I(:,:,3)>I(:,:,2))=cast13(I(:,:,3)>I(:,:,2))+1;
cast12(I(:,:,2)>I(:,:,3))=cast12(I(:,:,2)>I(:,:,3))+1;

cast21(J(:,:,1)>J(:,:,2))=cast21(J(:,:,1)>J(:,:,2))+1;
cast21(J(:,:,1)>J(:,:,3))=cast21(J(:,:,1)>J(:,:,3))+1;
cast22(J(:,:,2)>J(:,:,1))=cast22(J(:,:,2)>J(:,:,1))+1;
cast23(J(:,:,3)>J(:,:,1))=cast23(J(:,:,3)>J(:,:,1))+1;
cast23(J(:,:,3)>J(:,:,2))=cast23(J(:,:,3)>J(:,:,2))+1;
cast22(J(:,:,2)>J(:,:,3))=cast22(J(:,:,2)>J(:,:,3))+1;

cast1(:,:,1)=cast11;
cast1(:,:,2)=cast12;
cast1(:,:,3)=cast13;
cast2(:,:,1)=cast21;
cast2(:,:,2)=cast22;
cast2(:,:,3)=cast23;

D=max(I,[],3)-min(I,[],3);
d=max(J,[],3)-min(J,[],3);
I_hsv=rgb2hsv(I);
J_hsv=rgb2hsv(J);
P(I_hsv(:,:,1)-J_hsv(:,:,1)>60/360|I_hsv(:,:,1)-J_hsv(:,:,1)<-60/360)=0;

P(D(:,:)>7.*d(:,:))=0;
P(d>200/255&(cast_judge(I(:,:,1),I(:,:,2),I(:,:,1))<0.045))=0;
P(D<0.0392&max(I,[],3)<0.784&d<0.098&min(J,[],3) > 0.706)=0;%D<10,I<200,d<25,J>180
P((cast_judge(J(:,:,1),J(:,:,2),J(:,:,3))>0.15)&(cast_judge(I(:,:,1),I(:,:,2),I(:,:,3))<0.025))=0;
P((max(I,[],3)< 0.74)&(min(I,[],3)> 0.5)&((max(J,[],3)>0.78)&(min(J,[],3)<0.4)))=0;%127-190,>200,<100
P((max(I,[],3)< 0.667)&(min(I,[],3)> 0.549)&(median(J,3)>0.784))=0;%140-170,median>200
P((max(I,[],3)< 0.6274)&(min(I,[],3)> 0.5294)&(median(J,3)-min(J,[],3)<0.0192)&D<0.0392&max(J,[],3)<0.8235&min(J,[],3)>0.686)=0;%135-160,D<10,J>175,<210,J:median-min<5
P((max(I,[],3)< 0.6274)&(min(I,[],3)> 0.5294)&D<0.392&(median(J,3)-min(J,[],3)>0.314)&(max(J,[],3)-median(J,3)<0.098))=0;%135-160,D<10,minJ<160,<210
P(min(I,[],3)>0.588&max(I,[],3)<0.8235&median(J,3)<0.392&max(J,[],3)>0.745)=0;%I>150,<210,Jmedian<100,max>190

P((cast1(:,:,1)~=cast2(:,:,1)|cast1(:,:,2)~=cast2(:,:,2)|cast1(:,:,3)~=cast2(:,:,3))&(D>0.0196)&(D>0.0784|(min(I,[],3)<0.784&(d>0.0784&max(J,[],3)<0.235))))=0;
% P(J(:,:,1)>=1|J(:,:,1)<0)=0;
% P(J(:,:,2)>=1|J(:,:,2)<0)=0;
% P(J(:,:,3)>=1|J(:,:,3)<0)=0;

output=P;

